# Nombre del workflow [opcional]
name: Java CI with Gradle

# Eventos que disparan el workflow [obligatorio]
on:
  # Cada push que se haga a la rama "main" del repositorio remoto
  push:
    branches: [ "main" ]
  # Cada pull request que se haga a la rama "main" del repositorio remoto
  pull_request:
    branches: [ "main" ]

# Trabajos que componen el workflow (uno o varios) [obligatorio] 
jobs:
  # Id del trabajo (agrupa una serie de acciones o etapas a ejecutar)
  build:

    # Entorno de ejecución de las acciones o etapas del trabajo
    runs-on: ubuntu-latest

    # Acciones o etapas del trabajo [obligatorio]
    steps:
    # Acción de GitHub (Versión 2 de la Acción "checkout" de GitHub) para clonar el repositorio en el entorno de ejecución indicado más arriba
    - uses: actions/checkout@v2

    # Acción de GitHub (Versión 1 de la Acción "setup-java" de GitHub) que instala y configura la versión 1.8 del JDK de Java en el entorno de ejecución indicado más arriba
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: '1.8'
    
    # Comando que da permisos de ejecución al archivo gradlew
    - name: Grant execute permission for gradlew
      run: chmod +x gradlew

    # Comando para construir la aplicación con Gradle
    - name: Build with Gradle
      run: ./gradlew build
